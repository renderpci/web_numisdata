"use strict";var biblio_row_fields={biblio_object:null,caller:null,get_typology:function(){const e=this.biblio_object.typology||"[]",t=JSON.parse(e);return"1"==(void 0!==t[0]?t[0]:0)?"book":"article"},author:function(){const e=this.biblio_object,t=common.create_dom_element({element_type:"div",class_name:"info_line author"});if(!0===dedalo_logged){common.create_dom_element({element_type:"a",class_name:"section_id go_to_dedalo",text_content:e.section_id+" "+this.get_typology(),href:"/dedalo/lib/dedalo/main/?t=rsc205&id="+e.section_id,parent:t}).setAttribute("target","_blank")}if(e.authors&&e.authors.length>0){const o=e.authors_data,l=o.length,_=[];for(var n=0;n<l;n++){const e=[];o[n].surname&&e.push(o[n].surname),o[n].name&&e.push(o[n].name);const t=e.join(", ");_.push(t)}const i=_.join("; ");common.create_dom_element({element_type:"div",class_name:"info_value",text_content:i,parent:t})}else common.create_dom_element({element_type:"div",class_name:"info_value",text_content:"Undefined author",parent:t});return t},publication_date:function(){const e=this.biblio_object,t=common.create_dom_element({element_type:"div"});let n="";if(e.publication_date&&e.publication_date.length>0){const t=e.publication_date.split("-");n=void 0!==t[0]?parseInt(t[0]):"",n=n,t[2],parseInt(t[2])>0&&(n=n+"-"+parseInt(t[2]))}return common.create_dom_element({element_type:"div",class_name:"info_value",text_content:n,parent:t}),t.classList.remove("hide"),t},row_title:function(){const e=this.biblio_object,t=this.get_typology(),n=e.pdf||"[]",o=JSON.parse(n),l=o.length,_=common.create_dom_element({element_type:"div",class_name:"info_line row_title"}),i=e.title||"",a="book"===t?" italic":"";common.create_dom_element({element_type:"div",class_name:"title"+a+(l>0?" blue":""),text_content:i,parent:_});for(let e=0;e<l;e++){const t=o[e];common.create_dom_element({element_type:"div",class_name:"pdf",title:t.title,parent:_}).addEventListener("click",e=>{window.open(t.iri,"PDF","menubar=yes,location=yes,resizable=yes,scrollbars=yes,status=yes")})}return _},row_body:function(){const e=this.biblio_object,t=this.get_typology(),n=common.create_dom_element({element_type:"div",class_name:"info_line row_body "+t});switch(t){case"book":if(e.place&&common.create_dom_element({element_type:"div",class_name:"info_value place grey",text_content:e.place,parent:n}),e.editor&&common.create_dom_element({element_type:"div",class_name:"info_value editor grey",text_content:": "+e.editor,parent:n}),e.title_colective){const t=e.title_colective?", "+e.title_colective:"";common.create_dom_element({element_type:"div",class_name:"info_value volume grey italic",text_content:t,parent:n})}if(e.title_secondary){const t=e.title_secondary?", "+e.title_secondary:"";common.create_dom_element({element_type:"div",class_name:"info_value volume grey italic",text_content:t,parent:n})}if(e.other_people_name&&e.other_people_name.length>0){const t=e.other_people_name.split(" | "),o=e.other_people_role.split(" | "),l=void 0!==o[0]?", ("+o[0]+") ":", ";common.create_dom_element({element_type:"div",class_name:"info_value other_people_name grey",text_content:l,parent:n});const _=t.length;for(let e=0;e<_;e++){const o=t[e],l=0!==e?", "+o:" "+o;common.create_dom_element({element_type:"div",class_name:"info_value other_people_name grey",text_content:l,parent:n})}}break;default:if(e.magazine&&common.create_dom_element({element_type:"div",class_name:"info_value magazine grey italic",text_content:e.magazine,parent:n}),e.serie&&common.create_dom_element({element_type:"div",class_name:"info_value serie grey",inner_html:" "+e.serie,parent:n}),e.title_colective){const t=e.title_colective?", "+e.title_colective:"";common.create_dom_element({element_type:"div",class_name:"info_value volume grey italic",text_content:t,parent:n})}if(e.title_secondary){const t=e.title_secondary?", "+e.title_secondary:"";common.create_dom_element({element_type:"div",class_name:"info_value volume grey italic",text_content:t,parent:n})}if(e.other_people_name&&e.other_people_name.length>0){const t=e.other_people_name.split(" | "),o=e.other_people_role.split(" | ");for(let l=0;l<t.length;l++){const _=t[l],i=void 0!==o[l]?" ("+o[l]+")":"",a=e.serie.length>0||e.volume&&e.volume.length>0?", "+_+i:_+i;common.create_dom_element({element_type:"div",class_name:"info_value other_people_name grey",text_content:a,parent:n})}}if(e.physical_description){const t=e.serie.length>0||e.volume&&e.volume.length>0?", "+e.physical_description:e.physical_description;common.create_dom_element({element_type:"div",class_name:"info_value physical_description grey",text_content:t,parent:n})}}return n},row_url:function(){const e=this.biblio_object,t=common.create_dom_element({element_type:"div",class_name:"info_line row_url"}),n=e.url_data;if(n&&n.length>0){const e=JSON.parse(n),o=e.length;for(let n=0;n<o;n++){const l=e[n];common.create_dom_element({element_type:"a",class_name:"url_data",title:l.title,text_content:l.title,href:l.iri,parent:t}),!(n%2)&&n<o&&o>1&&common.create_dom_element({element_type:"span",class_name:"separator",text_content:" | ",parent:t})}}return t},descriptors:function(e){const t=this,n=(this.biblio_object,common.create_dom_element({element_type:"div",class_name:"info_line descriptors"})),o=e.split(" - ");for(let e=0;e<o.length;e++){const l=o[e];common.create_dom_element({element_type:"a",class_name:"descriptors_link",text_content:l,parent:n}).addEventListener("click",(function(){t.caller.search_item("descriptors",l)}))}return n},transcription:function(e,t){const n=page.search_fragment_in_text(t,e,510);return n&&n.length>1?common.create_dom_element({element_type:"div",class_name:"info_value transcription",inner_html:n}):null},row_bibliography:function(){var e=this.biblio_object;const t=e.ref_publications_url;null!=t&&t.includes("/Record/")&&(e=function(e){const t=e;t.length;for(const e in t)"string"==typeof t[e]&&null!=t[e]&&t[e].includes(" # ")&&(t[e]=t[e].split(" # ")[0]);return t}(e));const n=common.create_dom_element({element_type:"div",class_name:"info_line row_title"}),o=e.ref_publications_authors?e.ref_publications_authors.replace(/ \| /g,"; "):"";common.create_dom_element({element_type:"span",inner_html:o,parent:n});const l=e.ref_publications_date?" ("+e.ref_publications_date+"): ":"";common.create_dom_element({element_type:"span",inner_html:l,parent:n});const _=e.ref_publications_title?e.ref_publications_title+". ":"",i='["1"]'===e.ref_publications_typology||'["4"]'===e.ref_publications_typology?"<em>"+_+"</em>":_;common.create_dom_element({element_type:"span",inner_html:i,parent:n});const a=e.ref_publications_magazine?"<em>"+e.ref_publications_magazine+" </em>":"";common.create_dom_element({element_type:"span",inner_html:a,parent:n});const c=e.ref_publications_magazine_number?" "+e.ref_publications_magazine_number:"";if(common.create_dom_element({element_type:"span",inner_html:c,parent:n}),e.ref_publications_other_people_name&&e.ref_publications_other_people_name.length>0){const t=e.ref_publications_other_people_name.split(" | "),o=e.ref_publications_other_people_role.split(" | "),l=tstring.in||"In";common.create_dom_element({element_type:"span",text_content:l,parent:n});const _=t.length;for(let e=0;e<_;e++){const o=t[e],l=0!==e?", "+o:" "+o;common.create_dom_element({element_type:"span",text_content:l,parent:n})}const i=void 0!==o[0]?" ("+o[0].toLowerCase()+".): ":" ";common.create_dom_element({element_type:"span",text_content:i,parent:n})}const m=e.ref_publications_title_colective?"<em>"+e.ref_publications_title_colective+"</em>":null,r=m&&e.ref_publications_place?m+", ":m;common.create_dom_element({element_type:"span",inner_html:r,parent:n});const s=e.ref_publications_title_colective_alt?" <em>"+e.ref_publications_title_colective_alt+"</em>":null,p=s&&e.ref_publications_place?s+", ":s;common.create_dom_element({element_type:"span",inner_html:p,parent:n});const d=e.ref_publications_place?" "+e.ref_publications_place:"";common.create_dom_element({element_type:"span",inner_html:d,parent:n});const u=e.pages?", p. "+e.pages:"";common.create_dom_element({element_type:"span",inner_html:u,parent:n});const f=e.sheet?", "+e.sheet:"";common.create_dom_element({element_type:"span",inner_html:f,parent:n});const y=e.reference?", n. "+e.reference:"";common.create_dom_element({element_type:"span",inner_html:y,parent:n}),common.create_dom_element({element_type:"span",inner_html:".",parent:n});const h=e.ref_publications_url?e.ref_publications_url.split(", ")[0]:"",b=e.ref_publications_url?e.ref_publications_url.split(", ")[1]:"",v=b?' | <a href="'+b+'">'+h+" </a> ":"";return common.create_dom_element({element_type:"span",inner_html:v,parent:n}),n}};