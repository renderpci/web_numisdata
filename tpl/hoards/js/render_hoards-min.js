"use strict";var render_hoards={ar_rows:[],caller:null,draw_item:function(e){const n=new DocumentFragment,t=common.create_dom_element({element_type:"div",class_name:"row_wrapper",parent:n});if(null!==e.name&&e.name.length>0){const n=common.create_dom_element({element_type:"div",class_name:"map_wrapper hide_opacity",parent:t});if(e.map){const t=new IntersectionObserver((function(o){const a=o[1]||o[0];if(!0===a.isIntersecting||a.intersectionRatio>0){t.disconnect();const o=e.map,a=n,_=new map_factory;let s;if(_.init({map_container:n,map_position:o,popup_builder:page.map_popup_builder,popup_options:page.maps_config.popup_options,source_maps:page.maps_config.source_maps,add_layer_control:!1}),e.georef_geojson){const n={section_id:e.section_id,title:e.name,description:e.public_info.trim(),type:"findspots"===e.table?"findspot":"hoard"};s=hoards.map_data_geojson(e.georef_geojson,n)}else s=hoards.map_data_point(e.map,e.name);_.parse_data_to_map(s,null).then((function(){a.classList.remove("hide_opacity")}))}}),{threshold:[0]});t.observe(n)}const o=common.create_dom_element({element_type:"div",class_name:"info_wrap",parent:t}),a=common.create_dom_element({element_type:"div",class_name:"title_wrap",parent:o}),_="findspots"===e.table?"findspot":"hoard",s=page_globals.__WEB_ROOT_WEB__+"/"+_+"/"+e.section_id,m='<span class="icon_link"></span>';common.create_dom_element({element_type:"a",href:s,inner_html:e.name+m,class_name:"name",target:"_blank",parent:a});const p=e.place||"";common.create_dom_element({element_type:"div",class_name:"label",inner_html:p,parent:a});const i=common.create_dom_element({element_type:"div",class_name:"info_text_wrap",parent:o});if(e.coins&&e.coins.length>0){const n=e.coins.length;common.create_dom_element({element_type:"span",class_name:"",inner_html:(tstring.total_coins||"Total coins")+": "+n,parent:i})}}return n}};