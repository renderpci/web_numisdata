"use strict";var main_home={form:null,form_container:null,set_up:function(e){return this.form_container=e.form_container,this.form=new form_factory,this.form_node=this.render_form(),this.form_container.appendChild(this.form_node),!0},render_form:function(){const e=this,n=new DocumentFragment,t=common.create_dom_element({element_type:"div",class_name:"form-row fields",parent:n}),o=(e.form.item_factory({id:"global_search",name:"global_search",label:tstring.global_search||"global_search",q_column:"global_search",eq:"MATCH",eq_in:"",eq_out:"",class_name:"global_search",parent:t,callback:function(n){const t=n.node_input;let o;common.create_dom_element({element_type:"div",class_name:"search_operators_info",parent:t.parentNode}).addEventListener("click",(function(n){if(n.stopPropagation(),o)return o.remove(),void(o=null);o=e.form.full_text_search_operators_info(),t.parentNode.appendChild(o)})),window.addEventListener("click",(function(e){o&&!t.contains(e.target)&&(o.remove(),o=null)}))}}),common.create_dom_element({element_type:"div",class_name:"form-group field button_submit",parent:n}));common.create_dom_element({element_type:"input",type:"submit",id:"submit",value:tstring.search||"Search",class_name:"btn btn-light btn-block primary",parent:o}).addEventListener("click",(function(n){n.preventDefault(),e.form_submit()}));const r=common.create_dom_element({element_type:"form",id:"search_form",class_name:"form-inline"});return r.appendChild(n),r},form_submit:function(){const e=this.form_node;return new Promise(e?function(e){const n=document.getElementById("global_search");if(n){const t=n.value;t.leng<2&&e(!1),window.location.href="./catalog/"+encodeURIComponent(t),e(!0)}else e(!1)}:function(n){console.error("Error on submit. Invalid form_node.",e),n(!1)})}};