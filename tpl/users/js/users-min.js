"use strict";var users={container:null,set_up:function(e){SHOW_DEBUG;const n=this,t=e.row,a=e.main_container,r=e.list_container;if(a){const e=page.parse_ts_web(t)[0];n.render_row(e).then((function(e){a.appendChild(e),event_manager.publish("template_render_end",{item:a})}))}if(r){const e=common.create_dom_element({element_type:"div",class_name:"spinner",parent:r});n.get_users_data().then((function(t){const r=n.render_users_data({parsed_data:t});a.appendChild(r),e.remove()}))}return!0},get_users_data:async function(){const e=await data_manager.request({body:{dedalo_get:"records",table:"activity",ar_fields:["*"],lang:page_globals.WEB_CURRENT_LANG_CODE,limit:0,count:!1}}),n=page.parse_activity_data(e.result);return SHOW_DEBUG,n},render_users_data:function(e){const n=e.parsed_data,t=new DocumentFragment,a={min:20001,max:6e5},r={min:600001,max:null},m=function(e,n,t,a){const r=Math.min(n,t),m=Math.max(n,t);return a?e>=r&&e<=m:e>r&&e<m},o={gold:[],silver:[],bronze:[]},i=n.length;for(let e=0;e<i;e++){const t=n[e],i=t.activity.what.find((e=>"dd700"===e.key));if(i&&t.full_name){const e=i.value;let n=null;switch(!0){case e>=r.min||1===t.section_id:n="gold";break;case m(e,a.min,a.max,!0):n="silver";break;default:n="bronze"}o[n].push({label:t.full_name,value:e,type:n})}}const l=function(e){const n=e.sort((function(e,n){return e.label.localeCompare(n.label,void 0,{numeric:!0,sensitivity:"base"})})),t=new DocumentFragment,a=n.length;for(let e=0;e<a;e++){const a=n[e];common.create_dom_element({element_type:"div",class_name:"editor_name",inner_html:a.label,parent:t})}return t};for(const e in o){const n=common.create_dom_element({element_type:"div",class_name:"editors_block",parent:t});common.create_dom_element({element_type:"h1",class_name:"title",inner_html:tstring[e]||e,parent:n}),n.appendChild(l(o[e]))}return t},render_row:function(e){return new Promise((function(n){const t=new DocumentFragment,a=e.titulo,r=e.entradilla,m=e.cuerpo;if(common.create_dom_element({element_type:"h1",class_name:"title",inner_html:a,parent:t}),r&&r.length>0&&common.create_dom_element({element_type:"p",class_name:"abstract",inner_html:r,parent:t}),e.identify_image&&e.identify_image.length>0){const n=e.identify_image;common.create_dom_element({element_type:"img",class_name:"identify_image",src:n,parent:t})}m&&m.length>0&&common.create_dom_element({element_type:"section",class_name:"content",inner_html:m,parent:t}),n(t)}))}};
//# sourceMappingURL=users-min.js.map