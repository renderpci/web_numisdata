"use strict";var coin={section_id:null,export_data_container:null,set_up:function(e){const t=this;t.section_id=e.section_id,t.export_data_container=e.export_data_container;const o=page.render_export_data_buttons();return t.export_data_container.appendChild(o),t.export_data_container.classList.add("hide"),t.section_id||t.section_id<1?t.get_row_data({section_id:t.section_id}).then((function(e){const o=document.getElementById("row_detail");if(o){const n=e[0];t.draw_row({target:o,row:n}).then((function(){const e=o.querySelector(".gallery");page.activate_images_gallery(e),t.export_data_container.classList.remove("hide")}))}})):console.error("Invalid section_id: ",e),!0},get_row_data:function(e){const t=e.section_id;return new Promise((function(e){const o="section_id="+t,n={dedalo_get:"records",db_name:page_globals.WEB_DB,lang:page_globals.WEB_CURRENT_LANG_CODE,table:"coins",ar_fields:["*"],sql_filter:o,limit:1,count:!1,offset:0,resolve_portals_custom:{type_data:"types",bibliography_data:"bibliographic_references"}};return data_manager.request({body:n}).then((function(t){console.log("api_response:",t);const o=page.parse_coin_data(t.result);event_manager.publish("data_request_done",{request_body:n,result:o,export_data_parser:page.export_parse_coin_data}),e(o)}))}))},draw_row:function(e){const t=e.row,o=e.target;return this.row=t,!0===SHOW_DEBUG&&console.log("coin row:",t),new Promise((function(e){for(;o.hasChildNodes();)o.removeChild(o.lastChild);const n=coin_row.draw_coin(t);o.appendChild(n),e(o)}))}};