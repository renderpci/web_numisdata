"use strict";var hoards_row_fields={ar_rows:[],caller:null,draw_item:function(e){const n=new DocumentFragment,t=common.create_dom_element({element_type:"div",class_name:"row_wrapper",parent:n});if(null!==e.name&&e.name.length>0){const n=common.create_dom_element({element_type:"div",class_name:"map_wrapper hide_opacity",parent:t});if(e.map){const t=new IntersectionObserver((function(a){const o=a[1]||a[0];if(!0===o.isIntersecting||o.intersectionRatio>0){t.disconnect();const a=e.map,o=n,_=new map_factory;_.init({map_container:n,map_position:a,popup_builder:page.map_popup_builder,popup_options:page.maps_config.popup_options,source_maps:page.maps_config.source_maps,add_layer_control:!1});const m=function(n){const t=Array.isArray(n)?n:[n],a=[];for(let n=0;n<t.length;n++){const o={lat:t[n].lat,lon:t[n].lon,marker_icon:page.maps_config.markers.hoard,data:{section_id:null,title:e.name,description:" "}};a.push(o)}return a}(e.map);_.parse_data_to_map(m,null).then((function(){o.classList.remove("hide_opacity")}))}}),{threshold:[0]});t.observe(n)}const a=common.create_dom_element({element_type:"div",class_name:"info_wrap",parent:t}),o=common.create_dom_element({element_type:"div",class_name:"title_wrap",parent:a}),_="hoards"===self.table?"hoard":"findspot",m=page_globals.__WEB_ROOT_WEB__+"/"+_+"/"+e.section_id,s='<span class="icon_link"></span>';common.create_dom_element({element_type:"a",href:m,inner_html:e.name+s,class_name:"name",target:"_blank",parent:o});const r=e.place||"";common.create_dom_element({element_type:"div",class_name:"label",inner_html:r,parent:o});const c=common.create_dom_element({element_type:"div",class_name:"info_text_wrap",parent:a});if(e.coins&&e.coins.length>0){const n=e.coins.length;common.create_dom_element({element_type:"span",class_name:"",inner_html:(tstring.total_coins||"Total coins")+": "+n,parent:c})}}return n}};
//# sourceMappingURL=hoards_row_fields-min.js.map