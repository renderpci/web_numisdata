"use strict";var hoard={trigger_url:page_globals.__WEB_TEMPLATE_WEB__+"/hoard/trigger.hoard.php",search_options:{},set_up:function(e){const t=this;if(void 0!==e.section_id){t.get_row_data({section_id:e.section_id}).then((function(e){const n=e.result.find(e=>"hoard"===e.id);t.draw_row({target:document.getElementById("row_detail"),ar_rows:n.result}),t.init_map({map_data:JSON.parse(n.result[0].map)})}))}return!0},get_row_data:function(e){const t=e.section_id,n=this.trigger_url,a={mode:"get_row_data",section_id:t};return common.get_json_data(n,a).then((function(e){return!0===SHOW_DEBUG&&console.log("[hoard.get_row_data] get_json_data response:",e),e?e.result:(console.warn("[hoard.get_row_data] Error. Received response data is null"),!1)}))},draw_row:function(e){const t=e.ar_rows[0],n=e.target;for(self.row_object=t,!0===SHOW_DEBUG&&console.log("hoard row_object:",t);n.hasChildNodes();)n.removeChild(n.lastChild);const a=new DocumentFragment,o=common.create_dom_element({element_type:"div",class_name:"",parent:a});if(!0===dedalo_logged){common.create_dom_element({element_type:"a",class_name:"section_id go_to_dedalo",text_content:t.section_id,href:"/dedalo/lib/dedalo/main/?t=numisdata5&id="+t.section_id,parent:o}).setAttribute("target","_blank")}if(t.name&&t.name.length>0){common.create_dom_element({element_type:"label",class_name:"",text_content:tstring.name||"Name",parent:o});const e=t.name;common.create_dom_element({element_type:"span",class_name:"info_value",text_content:e,parent:o})}if(t.place&&t.place.length>0){common.create_dom_element({element_type:"label",class_name:"",text_content:tstring.place||"Place",parent:o});const e=t.place;common.create_dom_element({element_type:"span",class_name:"info_value",text_content:e,parent:o})}if(t.public_info&&t.public_info.length>0){common.create_dom_element({element_type:"label",class_name:"",text_content:tstring.public_info||"Public info",parent:o});const e=t.public_info;common.create_dom_element({element_type:"span",class_name:"info_value",text_content:e,parent:o})}if(t.link&&t.link.length>0){common.create_dom_element({element_type:"label",class_name:"",text_content:tstring.link||"Link",parent:o});const e=t.link;common.create_dom_element({element_type:"span",class_name:"info_value",text_content:e,parent:o})}if(t.bibliography&&t.bibliography.length>0){common.create_dom_element({element_type:"label",class_name:"",text_content:tstring.bibliography||"Bibliography",parent:o});const e=common.clean_gaps(t.bibliography);common.create_dom_element({element_type:"span",class_name:"info_value",inner_html:e,parent:o})}return n.appendChild(a),n},init_map:function(e){return page.init_map({map_data:e.map_data,div_container_id:"map_container"}),!0}};