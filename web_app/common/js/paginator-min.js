"use strict";var paginator={build_page_nodes:function(t,e,n,o){!0===SHOW_DEBUG&&console.log("build_page_nodes: total",t,"limit:",e,"offset",n,"n_nodes:",o),t=parseInt(t),e=parseInt(e),n=parseInt(n),o=parseInt(o);const a=[];if(t<1)return a;void 0===o&&(o=6),a.push({label:tstring.first||"<<",offset_value:0,type:"navigator",active:n>=e,id:"first"}),a.push({label:tstring.prev||"Prev",offset_value:n-e>0?n-e:0,type:"navigator",active:n>=e,id:"previous"});const s=Math.ceil(t/e),l=Math.ceil(n/e)+1;let i=Math.ceil(o/2);l<=i&&(i=2*i-l+1),!0===SHOW_DEBUG&&console.log("current_page:",l,"total:",t,"n_pages",s,"limit:",e,"offset:",n,"n_nodes:",o,"n_pages_group:",i);for(var r=1;r<=s;r++){const t=r-1==n/e,o=!t,s=(r-1)*e;(r>=l-i&&r<=l||r>=l-i&&r<=l+i)&&a.push({label:r,offset_value:s,type:"page",selected:t,active:o,id:r})}a.push({label:tstring.next||"Next",offset_value:n+e,type:"navigator",active:n<t-e,id:"next"}),a.push({label:tstring.last||">>",offset_value:(s-1)*e,type:"navigator",active:n<t-e,id:"last"});const c={total:t,limit:e,offset:n,nodes:o,n_pages:s,n_pages_group:i,current_page:l,ar_nodes:a};return!0===SHOW_DEBUG&&console.log("++ build_page_nodes response:",c),c},build_paginator_html:function(t,e,n){const o=this,a=new DocumentFragment,s=t.ar_nodes,l=s.length;for(let e=0;e<l;e++){const l=s[e];let i="",r=l.label;switch(l.type){case"navigator":i=l.type+" "+l.id;break;case"page":i=l.type+""}!0===l.selected&&(i+=" selected");const c=common.create_dom_element({element_type:"a",class_name:i,text_content:r,parent:a});!0===l.active&&c.addEventListener("click",(function(e){const a="function"==typeof n?n:o.goto_url;return"function"==typeof a&&a({offset:l.offset_value,total:t.total})}))}const i=common.create_dom_element({element_type:"div",class_name:"paginator_wrapper pagination"});return i.appendChild(a),e&&e.appendChild(i),i},goto_url:function(t){const e="../?total="+t.total+"&offset="+t.offset;return window.location.href=e,!0},get_full_paginator:function(t){const e=t.total,n=t.limit,o=t.offset,a=t.n_nodes,s=t.callback||null,l=this.build_page_nodes(e,n,o,a);return this.build_paginator_html(l,!1,s)}};