"use strict";var page={trigger_url:page_globals.__WEB_ROOT_WEB__+"/web/trigger.web.php",setup:function(){var e=this;return window.ready((function(){e.hilite_lang(page_globals.WEB_CURRENT_LANG_CODE)})),!0},hilite_lang:function(e){var t=document.getElementById("page_lang_selector");if(t)for(var n=t.querySelectorAll("a"),a=0;a<n.length;a++)-1!==n[a].href.indexOf(e)&&n[a].classList.add("selected");return!0},load_more_items:function(e){var t=JSON.parse(e.dataset.template_map),n=document.getElementById(e.dataset.target),a=document.createElement("div");a.classList.add("spinner_list"),n.appendChild(a);var o={mode:"load_more_items",template_map:t};return common.get_json_data(this.trigger_url,o,!0).then((function(o){if(console.log("[page.load_more_items] response",o),null===o)console.log("[page.load_more_items] Error. Null response");else{var r=document.createElement("div");r.innerHTML=o.html;for(var s=r.children;s.length>0;)n.appendChild(s[0]);t.offset=t.offset+t.max_records,e.dataset.template_map=JSON.stringify(t),t.offset>=t.total_records&&(e.style.display="none")}a.remove()}))},adjust_image_size:function(e){e.style.opacity=0;var t=document.createElement("img");return t.src=e.style.backgroundImage.replace(/"/g,"").replace(/url\(|\)$/gi,""),t.addEventListener("load",(function(t){var n=this.width;this.height>n&&e.classList.add("vertical"),e.style.opacity=1}),!1),!0},adjust_footer_position:function(){let e=!1;const t=document.getElementById("wrapper");if(!t)return console.log("top_container not found !"),!1;t.offsetHeight>window.innerHeight&&(e=!0);!0===SHOW_DEBUG&&console.log("scrollbar:",e);const n=document.getElementById("footer");return!1===e?n.classList.add("fixed"):n.classList.remove("fixed"),e},activate_tooltips:function(e){SHOW_DEBUG,$(e).each((function(){new Tooltip($(this),{placement:"top"})}))},build_paginator_html:function(e,t,n){const a=t;a.dataset.total=e.total;const o=e.ar_nodes,r=o.length;for(let e=0;e<r;e++){const t=o[e];let n=t.label,r="page "+t.type+" "+t.id;if(!1===t.active&&(r+=" unactive"),"previous"!==t.id&&"next"!==t.id&&"last"!==t.id&&"first"!==t.id||(n=""),!0===t.selected&&(r+=" selected"),"extra"===t.type){r=t.type;common.create_dom_element({element_type:"span",class_name:r,text_content:n,parent:a})}else{common.create_dom_element({element_type:"a",class_name:r,text_content:n,dataset:{offset:t.offset_value,active:t.active},parent:a});t.active}}return a.addEventListener("click",this.paginator_click_event),a},paginator_click_event:function(e){const t=this,n=e.target;if("true"!==n.dataset.active)return!1;const a=parseInt(n.parentNode.dataset.total),o=n.dataset.offset,r=document.getElementById("search_form"),s=main_home.search(r,null,o,a);return s.then((function(e){t.result_container})),s}};